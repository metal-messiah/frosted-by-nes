{"version":3,"file":"static/js/spa-aggregate.272cd061.chunk.js","mappings":"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","sources":["../node_modules/@newrelic/browser-agent/dist/esm/common/deny-list/deny-list.js","../node_modules/@newrelic/browser-agent/dist/esm/common/serialize/bel-serializer.js","../node_modules/@newrelic/browser-agent/dist/esm/common/timing/nav-timing.js","../node_modules/@newrelic/browser-agent/dist/esm/common/vitals/constants.js","../node_modules/@newrelic/browser-agent/dist/esm/common/vitals/first-contentful-paint.js","../node_modules/@newrelic/browser-agent/dist/esm/common/vitals/first-paint.js","../node_modules/@newrelic/browser-agent/dist/esm/common/vitals/vital-metric.js","../node_modules/@newrelic/browser-agent/dist/esm/features/spa/aggregate/interaction-node.js","../node_modules/@newrelic/browser-agent/dist/esm/features/spa/aggregate/interaction.js","../node_modules/@newrelic/browser-agent/dist/esm/features/spa/aggregate/serializer.js","../node_modules/@newrelic/browser-agent/dist/esm/features/spa/aggregate/index.js","../node_modules/@newrelic/browser-agent/node_modules/web-vitals/dist/web-vitals.js"],"sourcesContent":["/** An array of filter objects {hostname, pathname} for identifying XHR events to be excluded from collection.\n * @see {@link https://docs.newrelic.com/docs/browser/new-relic-browser/configuration/filter-ajax-request-events/ Filter AjaxRequest events}\n * @type {Array.<{hostname: string, pathname: string}>}\n */\nvar denyList = [];\n\n/**\n * Evaluates whether an XHR event should be included for collection based on the {@link denyList|AjaxRequest deny list}.\n * @param {Object} params - object with properties of the XHR event\n * @returns {boolean} `true` if request does not match any entries of {@link denyList|deny list}; else `false`\n */\nexport function shouldCollectEvent(params) {\n  if (denyList.length === 0) {\n    return true;\n  }\n\n  // XHR requests with an undefined hostname (e.g., data URLs) should not be collected.\n  if (params.hostname === undefined) {\n    return false;\n  }\n  for (var i = 0; i < denyList.length; i++) {\n    var parsed = denyList[i];\n    if (parsed.hostname === '*') {\n      return false;\n    }\n    if (domainMatchesPattern(parsed.hostname, params.hostname) && comparePath(parsed.pathname, params.pathname)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/**\n * Initializes the {@link denyList|XHR deny list} by extracting hostname and pathname from an array of filter strings.\n * @param {string[]} denyListConfig - array of URL filters to identify XHR requests to be excluded from collection\n */\nexport function setDenyList(denyListConfig) {\n  denyList = [];\n  if (!denyListConfig || !denyListConfig.length) {\n    return;\n  }\n  for (var i = 0; i < denyListConfig.length; i++) {\n    let url = denyListConfig[i];\n    if (!url) continue; // ignore bad values like undefined or empty strings\n\n    if (url.indexOf('http://') === 0) {\n      url = url.substring(7);\n    } else if (url.indexOf('https://') === 0) {\n      url = url.substring(8);\n    }\n    const firstSlash = url.indexOf('/');\n    let host, pathname;\n    if (firstSlash > 0) {\n      host = url.substring(0, firstSlash);\n      pathname = url.substring(firstSlash);\n    } else {\n      host = url;\n      pathname = '';\n    }\n    let [hostname] = host.split(':');\n    denyList.push({\n      hostname,\n      pathname\n    });\n  }\n}\n/**\n * Returns true if the right side of `domain` (end of string) matches `pattern`.\n * @param {string} pattern - a string to be matched against the end of `domain` string\n * @param {string} domain - a domain string with no protocol or path (e.g., app1.example.com)\n * @returns {boolean} `true` if domain matches pattern; else `false`\n */\nfunction domainMatchesPattern(pattern, domain) {\n  if (pattern.length > domain.length) {\n    return false;\n  }\n  return domain.indexOf(pattern) === domain.length - pattern.length;\n}\n\n/**\n * Returns true if a URL path matches a pattern string, disregarding leading slashes.\n * @param {string} pattern - a string to compare with path (e.g., api/v1)\n * @param {string} path - a string representing a URL path (e.g., /api/v1)\n * @returns {boolean} `true` if path and pattern are an exact string match (except for leading slashes); else `false`\n */\nfunction comparePath(pattern, path) {\n  if (pattern.indexOf('/') === 0) {\n    pattern = pattern.substring(1);\n  }\n  if (path.indexOf('/') === 0) {\n    path = path.substring(1);\n  }\n\n  // No path in pattern means match all paths.\n  if (pattern === '') {\n    return true;\n  }\n  return pattern === path;\n}","/*\n * Copyright 2020 New Relic Corporation. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { mapOwn } from '../util/map-own';\nimport { stringify } from '../util/stringify';\nimport { Obfuscator } from '../util/obfuscate';\nvar hasOwnProp = Object.prototype.hasOwnProperty;\nvar MAX_ATTRIBUTES = 64;\nexport function nullable(val, fn, comma) {\n  return val || val === 0 || val === '' ? fn(val) + (comma ? ',' : '') : '!';\n}\nexport function numeric(n, noDefault) {\n  if (noDefault) {\n    return Math.floor(n).toString(36);\n  }\n  return n === undefined || n === 0 ? '' : Math.floor(n).toString(36);\n}\nexport function getAddStringContext(agentIdentifier) {\n  // eslint-disable-next-line\n  var stringTable = Object.hasOwnProperty('create') ? Object.create(null) : {};\n  var stringTableIdx = 0;\n  return addString;\n  function addString(str) {\n    if (typeof str === 'undefined' || str === '') return '';\n    var obfuscator = new Obfuscator({\n      agentIdentifier\n    });\n    str = String(str);\n    if (obfuscator.shouldObfuscate()) str = obfuscator.obfuscateString(str);\n    if (hasOwnProp.call(stringTable, str)) {\n      return numeric(stringTable[str], true);\n    } else {\n      stringTable[str] = stringTableIdx++;\n      return quoteString(str);\n    }\n  }\n}\nexport function addCustomAttributes(attrs, addString) {\n  var attrParts = [];\n  mapOwn(attrs, function (key, val) {\n    if (attrParts.length >= MAX_ATTRIBUTES) return;\n    var type = 5;\n    var serializedValue;\n    // add key to string table first\n    key = addString(key);\n    switch (typeof val) {\n      case 'object':\n        if (val) {\n          // serialize objects to strings\n          serializedValue = addString(stringify(val));\n        } else {\n          // null attribute type\n          type = 9;\n        }\n        break;\n      case 'number':\n        type = 6;\n        // make sure numbers contain a `.` so they are parsed as doubles\n        serializedValue = val % 1 ? val : val + '.';\n        break;\n      case 'boolean':\n        type = val ? 7 : 8;\n        break;\n      case 'undefined':\n        // we treat undefined as a null attribute (since dirac does not have a concept of undefined)\n        type = 9;\n        break;\n      default:\n        serializedValue = addString(val);\n    }\n    attrParts.push([type, key + (serializedValue ? ',' + serializedValue : '')]);\n  });\n  return attrParts;\n}\nvar escapable = /([,\\\\;])/g;\nfunction quoteString(str) {\n  return \"'\" + str.replace(escapable, '\\\\$1');\n}","/*\n * Copyright 2020 New Relic Corporation. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// We don't use JSON.stringify directly on the performance timing data for these reasons:\n// * Chrome has extra data in the performance object that we don't want to send all the time (wasteful)\n// * Firefox fails to stringify the native object due to - http://code.google.com/p/v8/issues/detail?id=1223\n// * The variable names are long and wasteful to transmit\n\n// Add Performance Timing values to the given object.\n// * Values are written relative to an offset to reduce their length (i.e. number of characters).\n// * The offset is sent with the data\n// * 0's are not included unless the value is a 'relative zero'\n//\n\nvar START = 'Start';\nvar END = 'End';\nvar UNLOAD_EVENT = 'unloadEvent';\nvar REDIRECT = 'redirect';\nvar DOMAIN_LOOKUP = 'domainLookup';\nvar ONNECT = 'onnect';\nvar REQUEST = 'request';\nvar RESPONSE = 'response';\nvar LOAD_EVENT = 'loadEvent';\nvar DOM_CONTENT_LOAD_EVENT = 'domContentLoadedEvent';\nexport var navTimingValues = [];\nfunction getPntType(type) {\n  if (typeof type === 'number') return type;\n  const types = {\n    navigate: undefined,\n    reload: 1,\n    back_forward: 2,\n    prerender: 3\n  };\n  return types[type];\n}\nexport function addPT(offset, pt) {\n  let v = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  let isL1Api = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  if (!pt) return;\n  v.of = offset;\n  handleValue(v.of, v, 'n', true);\n  handleValue(pt[UNLOAD_EVENT + START], v, 'u', isL1Api);\n  handleValue(pt[REDIRECT + START], v, 'r', isL1Api);\n  handleValue(pt[UNLOAD_EVENT + END], v, 'ue', isL1Api);\n  handleValue(pt[REDIRECT + END], v, 're', isL1Api);\n  handleValue(pt['fetch' + START], v, 'f', isL1Api);\n  handleValue(pt[DOMAIN_LOOKUP + START], v, 'dn', isL1Api);\n  handleValue(pt[DOMAIN_LOOKUP + END], v, 'dne', isL1Api);\n  handleValue(pt['c' + ONNECT + START], v, 'c', isL1Api);\n  handleValue(pt['secureC' + ONNECT + 'ion' + START], v, 's', isL1Api);\n  handleValue(pt['c' + ONNECT + END], v, 'ce', isL1Api);\n  handleValue(pt[REQUEST + START], v, 'rq', isL1Api);\n  handleValue(pt[RESPONSE + START], v, 'rp', isL1Api);\n  handleValue(pt[RESPONSE + END], v, 'rpe', isL1Api);\n  handleValue(pt.domLoading, v, 'dl', isL1Api);\n  handleValue(pt.domInteractive, v, 'di', isL1Api);\n  handleValue(pt[DOM_CONTENT_LOAD_EVENT + START], v, 'ds', isL1Api);\n  handleValue(pt[DOM_CONTENT_LOAD_EVENT + END], v, 'de', isL1Api);\n  handleValue(pt.domComplete, v, 'dc', isL1Api);\n  handleValue(pt[LOAD_EVENT + START], v, 'l', isL1Api);\n  handleValue(pt[LOAD_EVENT + END], v, 'le', isL1Api);\n  return v;\n}\n\n// Add Performance Navigation values to the given object\nexport function addPN(pn, v) {\n  handleValue(getPntType(pn.type), v, 'ty');\n  handleValue(pn.redirectCount, v, 'rc');\n  return v;\n}\nfunction handleValue(value, obj, prop, isOldApi) {\n  /*\n  For L2 Timing API, the value will already be a relative-to-previous-document DOMHighResTimeStamp.\n  For L1 (deprecated) Timing, the value is an UNIX epoch timestamp, which we will convert to a relative time using our offset.\n  PNT.type is reported as undefined, 1, 2, etc -- note that zero-value properties will be recorded as 'undefined', however DEM interprets undefined \"types\" as \"navigate\"\n  */\n  if (typeof value === 'number' && value > 0) {\n    // note that zero-value properties will be recorded as 'undefined'\n    if (isOldApi) {\n      const offset = obj?.of > 0 ? obj.of : 0; // expect an epoch timestamp, if called by addPT\n      value = Math.max(value - offset, 0);\n    }\n    value = Math.round(value);\n    obj[prop] = value;\n  }\n  navTimingValues.push(value);\n}","export const VITAL_NAMES = {\n  FIRST_PAINT: 'fp',\n  FIRST_CONTENTFUL_PAINT: 'fcp',\n  FIRST_INPUT_DELAY: 'fi',\n  LARGEST_CONTENTFUL_PAINT: 'lcp',\n  CUMULATIVE_LAYOUT_SHIFT: 'cls',\n  INTERACTION_TO_NEXT_PAINT: 'inp',\n  LONG_TASK: 'lt',\n  TIME_TO_FIRST_BYTE: 'ttfb'\n};","import { onFCP } from 'web-vitals';\n// eslint-disable-next-line camelcase\nimport { iOSBelow16, initiallyHidden, isBrowserScope } from '../constants/runtime';\nimport { VITAL_NAMES } from './constants';\nimport { VitalMetric } from './vital-metric';\nexport const firstContentfulPaint = new VitalMetric(VITAL_NAMES.FIRST_CONTENTFUL_PAINT);\n\n/* First Contentful Paint - As of WV v3, it still imperfectly tries to detect document vis state asap and isn't supposed to report if page starts hidden. */\nif (isBrowserScope) {\n  // eslint-disable-next-line camelcase\n  if (iOSBelow16) {\n    try {\n      if (!initiallyHidden) {\n        // see ios-version.js for detail on this following bug case; tldr: buffered flag doesn't work but getEntriesByType does\n        const paintEntries = performance.getEntriesByType('paint');\n        paintEntries.forEach(entry => {\n          if (entry.name === 'first-contentful-paint') {\n            firstContentfulPaint.update({\n              value: Math.floor(entry.startTime),\n              entries: paintEntries\n            });\n          }\n        });\n      }\n    } catch (e) {\n      // ignore\n    }\n  } else {\n    onFCP(_ref => {\n      let {\n        value,\n        entries\n      } = _ref;\n      if (initiallyHidden || firstContentfulPaint.isValid) return;\n      firstContentfulPaint.update({\n        value,\n        entries\n      });\n    });\n  }\n}","import { initiallyHidden, isBrowserScope } from '../constants/runtime';\nimport { VITAL_NAMES } from './constants';\nimport { VitalMetric } from './vital-metric';\nexport const firstPaint = new VitalMetric(VITAL_NAMES.FIRST_PAINT);\nif (isBrowserScope) {\n  const handleEntries = entries => {\n    entries.forEach(entry => {\n      if (entry.name === 'first-paint' && !firstPaint.isValid) {\n        observer.disconnect();\n\n        /* Initial hidden state and pre-rendering not yet considered for first paint. See web-vitals onFCP for example. */\n        firstPaint.update({\n          value: entry.startTime,\n          entries\n        });\n      }\n    });\n  };\n  let observer;\n  try {\n    if (PerformanceObserver.supportedEntryTypes.includes('paint') && !initiallyHidden) {\n      observer = new PerformanceObserver(list => {\n        // Delay by a microtask to workaround a bug in Safari where the\n        // callback is invoked immediately, rather than in a separate task.\n        // See: https://github.com/GoogleChrome/web-vitals/issues/277\n        Promise.resolve().then(() => {\n          handleEntries(list.getEntries());\n        });\n      });\n      observer.observe({\n        type: 'paint',\n        buffered: true\n      });\n    }\n  } catch (e) {\n    // Do nothing.\n  }\n}","export class VitalMetric {\n  #subscribers = new Set();\n  history = [];\n  constructor(name, roundingMethod) {\n    this.name = name;\n    this.attrs = {};\n    this.roundingMethod = typeof roundingMethod === 'function' ? roundingMethod : Math.floor;\n  }\n  update(_ref) {\n    let {\n      value,\n      entries = [],\n      attrs = {}\n    } = _ref;\n    if (value < 0) return;\n    const state = {\n      value: this.roundingMethod(value),\n      name: this.name,\n      entries,\n      attrs\n    };\n    this.history.push(state);\n    this.#subscribers.forEach(cb => {\n      try {\n        cb(this.current);\n      } catch (e) {\n        // ignore errors\n      }\n    });\n  }\n  get current() {\n    return this.history[this.history.length - 1] || {\n      value: undefined,\n      name: this.name,\n      entries: [],\n      attrs: {}\n    };\n  }\n  get isValid() {\n    return this.current.value >= 0;\n  }\n  subscribe(callback) {\n    let buffered = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (typeof callback !== 'function') return;\n    this.#subscribers.add(callback);\n    // emit full history on subscription (\"buffered\" behavior)\n    if (this.isValid && !!buffered) this.history.forEach(state => {\n      callback(state);\n    });\n    return () => {\n      this.#subscribers.delete(callback);\n    };\n  }\n}","/*\n * Copyright 2020 New Relic Corporation. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nvar MAX_NODES = 128;\nvar lastId = 0;\nexport function InteractionNode(interaction, parent, type, timestamp) {\n  Object.defineProperty(this, 'interaction', {\n    value: interaction,\n    writable: true // enumerable: false -- by default, which hides this prop from obj (iterations)\n  });\n\n  this.parent = parent;\n  this.id = ++lastId;\n  this.type = type;\n  this.children = [];\n  this.end = null;\n  this.jsEnd = this.start = timestamp;\n  this.jsTime = 0;\n  this.attrs = {};\n  this.cancelled = false;\n}\nvar InteractionNodePrototype = InteractionNode.prototype;\n\n/**\n * @param {string} type\n * @param {number} timestamp\n * @param {string} name\n * @param {bool} dontWait - When true, the interaction will not immediately start waiting\n *                          for this node to complete. This is used when the creation of\n *                          the node and its start happen at different times (e.g. XHR).\n */\nInteractionNodePrototype.child = function child(type, timestamp, name, dontWait) {\n  var interaction = this.interaction;\n  if (interaction.end || interaction.nodes >= MAX_NODES) return null;\n  interaction.onNodeAdded(this);\n  var node = new InteractionNode(interaction, this, type, timestamp);\n  node.attrs.name = name;\n  interaction.nodes++;\n  if (!dontWait) {\n    interaction.remaining++;\n  }\n  return node;\n};\nInteractionNodePrototype.callback = function addCallbackTime(exclusiveTime, end) {\n  var node = this;\n  node.jsTime += exclusiveTime;\n  if (end > node.jsEnd) {\n    node.jsEnd = end;\n    node.interaction.lastCb = end;\n  }\n};\nInteractionNodePrototype.cancel = function cancel() {\n  this.cancelled = true;\n  var interaction = this.interaction;\n  interaction.remaining--;\n};\nInteractionNodePrototype.finish = function finish(timestamp) {\n  var node = this;\n  if (node.end) return;\n  node.end = timestamp;\n\n  // Find the next parent node that is not cancelled\n  let parent = node.parent;\n  while (parent?.cancelled) parent = parent.parent;\n\n  // Assign the node to the non-cancelled parent node\n  if (parent) parent.children.push(node);\n  node.parent = null;\n\n  // Update the interaction remaining counter\n  var interaction = this.interaction;\n  interaction.remaining--;\n  interaction.lastFinish = timestamp;\n  // check if interaction has finished, (this is needed for older browsers for unknown reasons)\n  interaction.checkFinish();\n};","/*\n * Copyright 2020 New Relic Corporation. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { getInfo, getRuntime, originals } from '../../../common/config/config';\nimport { mapOwn } from '../../../common/util/map-own';\nimport { ee } from '../../../common/event-emitter/contextual-ee';\nimport { InteractionNode } from './interaction-node';\nvar originalSetTimeout = originals.ST;\nvar originalClearTimeout = originals.CT;\nvar lastId = {};\nexport function Interaction(eventName, timestamp, url, routeName, onFinished, agentIdentifier) {\n  this.agentIdentifier = agentIdentifier;\n  this.ee = ee.get(agentIdentifier);\n  lastId[agentIdentifier] = 0;\n  this.id = ++lastId[agentIdentifier];\n  this.eventName = eventName;\n  this.nodes = 0;\n  this.remaining = 0;\n  this.finishTimer = null;\n  this.checkingFinish = false;\n  this.lastCb = this.lastFinish = timestamp;\n  this.handlers = [];\n  this.onFinished = onFinished;\n  this.done = false;\n  var root = this.root = new InteractionNode(this, null, 'interaction', timestamp);\n  var attrs = root.attrs;\n  attrs.trigger = eventName;\n  attrs.initialPageURL = getRuntime(agentIdentifier).origin;\n  attrs.oldRoute = routeName;\n  attrs.newURL = attrs.oldURL = url;\n  attrs.custom = {};\n  attrs.store = {};\n}\nvar InteractionPrototype = Interaction.prototype;\nInteractionPrototype.checkFinish = function checkFinish() {\n  var interaction = this;\n  if (interaction.remaining > 0) {\n    interaction._resetFinishCheck();\n    return;\n  }\n  if (interaction.checkingFinish) {\n    return;\n  }\n  if (interaction.root.end !== null) return;\n  interaction._resetFinishCheck();\n  interaction.checkingFinish = true;\n  interaction.finishTimer = originalSetTimeout(() => {\n    interaction.checkingFinish = false;\n    interaction.finishTimer = originalSetTimeout(() => {\n      interaction.finishTimer = null;\n      if (interaction.remaining <= 0) interaction.finish();\n    }, 1);\n  }, 0);\n};\nInteractionPrototype.setNewURL = function setNewURL(url) {\n  this.root.attrs.newURL = url;\n};\nInteractionPrototype.setNewRoute = function setNewRoute(route) {\n  this.root.attrs.newRoute = route;\n};\nInteractionPrototype.onNodeAdded = function onNodeAdded() {\n  this._resetFinishCheck();\n};\nInteractionPrototype._resetFinishCheck = function _resetFinishCheck() {\n  if (this.finishTimer) {\n    originalClearTimeout(this.finishTimer);\n    this.finishTimer = null;\n    this.checkingFinish = false;\n  }\n};\n\n// serialize report and remove nodes from map\nInteractionPrototype.finish = function finishInteraction() {\n  var interaction = this;\n  var root = interaction.root;\n  if (root.end !== null) return;\n  var endTimestamp = Math.max(interaction.lastCb, interaction.lastFinish);\n  var attrs = root.attrs;\n  var customAttrs = attrs.custom;\n  if (this.onFinished) {\n    this.onFinished(this);\n  }\n  mapOwn(getInfo(interaction.agentIdentifier).jsAttributes, function (attr, value) {\n    if (!(attr in customAttrs)) customAttrs[attr] = value;\n  });\n  root.end = endTimestamp;\n  interaction.ee.emit('interaction', [this]);\n};","/*\n * Copyright 2020 New Relic Corporation. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { cleanURL } from '../../../common/url/clean-url';\nimport { mapOwn } from '../../../common/util/map-own';\nimport { nullable, numeric, getAddStringContext, addCustomAttributes } from '../../../common/serialize/bel-serializer';\nimport { SharedContext } from '../../../common/context/shared-context';\nimport { getInfo } from '../../../common/config/config';\nexport class Serializer extends SharedContext {\n  constructor(parent) {\n    super(parent);\n\n    /**\n     * This variable is used to calculate an interactions ending offset when the\n     * harvest includes multiple interactions. This variable is set by the first\n     * interaction processed and used by subsequent interactions in the same harvest.\n     * See https://issues.newrelic.com/browse/NEWRELIC-5498\n     * @type {number|undefined}\n     */\n    this.firstTimestamp = undefined;\n  }\n  serializeMultiple(interactions, offset, navTiming) {\n    const info = getInfo(this.sharedContext.agentIdentifier);\n    var addString = getAddStringContext(this.sharedContext.agentIdentifier);\n    var serialized = 'bel.7';\n    interactions.forEach(interaction => {\n      serialized += ';' + this.serializeInteraction(interaction.root, offset, navTiming, interaction.routeChange, addString, info);\n    });\n    this.firstTimestamp = undefined;\n    return serialized;\n  }\n  serializeSingle(root, offset, navTiming, isRouteChange) {\n    const info = getInfo(this.sharedContext.agentIdentifier);\n    var addString = getAddStringContext(this.sharedContext.agentIdentifier);\n    var serialized = 'bel.7;' + this.serializeInteraction(root, offset, navTiming, isRouteChange, addString, info);\n    this.firstTimestamp = undefined;\n    return serialized;\n  }\n  serializeInteraction(root, offset, navTiming, isRouteChange, addString, info) {\n    offset = offset || 0;\n    var isInitialPage = root.attrs.trigger === 'initialPageLoad';\n    var typeIdsByName = {\n      interaction: 1,\n      ajax: 2,\n      customTracer: 4\n    };\n\n    // Include the hash fragment with all SPA data\n    var includeHashFragment = true;\n    const addNode = (node, nodeList) => {\n      if (node.type === 'customEnd') return nodeList.push([3, numeric(node.end - this.firstTimestamp)]);\n      var typeName = node.type;\n      var typeId = typeIdsByName[typeName];\n      var startTimestamp = node.start;\n      var childCount = node.children.length;\n      var attrCount = 0;\n      var apmAttributes = info.atts;\n      var hasNavTiming = isInitialPage && navTiming.length && typeId === 1;\n      var children = [];\n      var attrs = node.attrs;\n      var metrics = attrs.metrics;\n      var params = attrs.params;\n      var queueTime = info.queueTime;\n      var appTime = info.applicationTime;\n      if (typeof this.firstTimestamp === 'undefined') {\n        startTimestamp += offset;\n        this.firstTimestamp = startTimestamp;\n      } else {\n        startTimestamp -= this.firstTimestamp;\n      }\n      var fields = [numeric(startTimestamp), numeric(node.end - node.start), numeric(node.jsEnd - node.end), numeric(node.jsTime)];\n      switch (typeId) {\n        case 1:\n          fields[2] = numeric(node.jsEnd - this.firstTimestamp);\n          fields.push(addString(attrs.trigger), addString(cleanURL(attrs.initialPageURL, includeHashFragment)), addString(cleanURL(attrs.oldURL, includeHashFragment)), addString(cleanURL(attrs.newURL, includeHashFragment)), addString(attrs.customName), isInitialPage ? '' : isRouteChange ? 1 : 2, nullable(isInitialPage && queueTime, numeric, true) + nullable(isInitialPage && appTime, numeric, true) + nullable(attrs.oldRoute, addString, true) + nullable(attrs.newRoute, addString, true) + addString(attrs.id), addString(node.id), nullable(attrs.firstPaint, numeric, true) + nullable(attrs.firstContentfulPaint, numeric, false));\n          var attrParts = addCustomAttributes(attrs.custom, addString);\n          children = children.concat(attrParts);\n          attrCount = attrParts.length;\n          if (apmAttributes) {\n            childCount++;\n            children.push('a,' + addString(apmAttributes));\n          }\n          break;\n        case 2:\n          fields.push(addString(params.method), numeric(params.status), addString(params.host), addString(params.pathname), numeric(metrics.txSize), numeric(metrics.rxSize), attrs.isFetch ? 1 : attrs.isJSONP ? 2 : '', addString(node.id), nullable(node.dt && node.dt.spanId, addString, true) + nullable(node.dt && node.dt.traceId, addString, true) + nullable(node.dt && node.dt.timestamp, numeric, false));\n\n          // add params.gql here\n          if (Object.keys(params?.gql || {}).length) {\n            var ajaxAttrParts = addCustomAttributes(params.gql, addString);\n            children = children.concat(ajaxAttrParts);\n            attrCount = ajaxAttrParts.length;\n          }\n          break;\n        case 4:\n          var tracedTime = attrs.tracedTime;\n          fields.push(addString(attrs.name), nullable(tracedTime, numeric, true) + addString(node.id));\n          break;\n      }\n      for (var i = 0; i < node.children.length; i++) {\n        addNode(node.children[i], children);\n      }\n      fields.unshift(numeric(typeId), numeric(childCount += attrCount));\n      nodeList.push(fields);\n      if (childCount) {\n        nodeList.push(children.join(';'));\n      }\n      if (hasNavTiming) {\n        // this build up the navTiming node\n        // it for each navTiming value (pre aggregated in nav-timing.js):\n        // we initialize the seperator to ',' (seperates the nodeType id from the first value)\n        // we initialize the navTiming node to 'b' (the nodeType id)\n        // if the value is present:\n        //   we add the seperator followed by the value\n        // otherwise\n        //   we add null seperator ('!') to the navTimingNode\n        //   we set the seperator to an empty string since we already wrote it above\n        //   the reason for writing the null seperator instead of setting the seperator\n        //   is to ensure we still write it if the null is the last navTiming value.\n\n        var seperator = ',';\n        var navTimingNode = 'b';\n        var prev = 0;\n\n        // get all navTiming values except navigationStart\n        // (since its the same as interaction.start)\n        // and limit to just the first 20 values we know about\n        mapOwn(navTiming.slice(1, 21), function (i, v) {\n          if (v !== undefined) {\n            navTimingNode += seperator + numeric(v - prev);\n            seperator = ',';\n            prev = v;\n          } else {\n            navTimingNode += seperator + '!';\n            seperator = '';\n          }\n        });\n        nodeList.push(navTimingNode);\n      } else if (typeId === 1) {\n        nodeList.push('');\n      }\n      return nodeList;\n    };\n    return addNode(root, []).join(';');\n  }\n}","/*\n * Copyright 2020 New Relic Corporation. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\n/* eslint no-undef: \"error\" */\nimport { registerHandler as register } from '../../../common/event-emitter/register-handler';\nimport { parseUrl } from '../../../common/url/parse-url';\nimport { shouldCollectEvent } from '../../../common/deny-list/deny-list';\nimport { mapOwn } from '../../../common/util/map-own';\nimport { navTimingValues as navTiming } from '../../../common/timing/nav-timing';\nimport { generateUuid } from '../../../common/ids/unique-id';\nimport { Interaction } from './interaction';\nimport { getConfigurationValue, getRuntime } from '../../../common/config/config';\nimport { eventListenerOpts } from '../../../common/event-listener/event-listener-opts';\nimport { HarvestScheduler } from '../../../common/harvest/harvest-scheduler';\nimport { Serializer } from './serializer';\nimport { ee } from '../../../common/event-emitter/contextual-ee';\nimport * as CONSTANTS from '../constants';\nimport { FEATURE_NAMES } from '../../../loaders/features/features';\nimport { AggregateBase } from '../../utils/aggregate-base';\nimport { firstContentfulPaint } from '../../../common/vitals/first-contentful-paint';\nimport { firstPaint } from '../../../common/vitals/first-paint';\nimport { bundleId } from '../../../common/ids/bundle-id';\nimport { loadedAsDeferredBrowserScript } from '../../../common/constants/runtime';\nimport { handle } from '../../../common/event-emitter/handle';\nimport { SUPPORTABILITY_METRIC_CHANNEL } from '../../metrics/constants';\nconst {\n  FEATURE_NAME,\n  INTERACTION_EVENTS,\n  MAX_TIMER_BUDGET,\n  FN_START,\n  FN_END,\n  CB_START,\n  INTERACTION_API,\n  REMAINING,\n  INTERACTION,\n  SPA_NODE,\n  JSONP_NODE,\n  FETCH_START,\n  FETCH_DONE,\n  FETCH_BODY,\n  JSONP_END,\n  originalSetTimeout\n} = CONSTANTS;\nexport class Aggregate extends AggregateBase {\n  static featureName = FEATURE_NAME;\n  constructor(agentIdentifier, aggregator) {\n    super(agentIdentifier, aggregator, FEATURE_NAME);\n    this.state = {\n      initialPageURL: getRuntime(agentIdentifier).origin,\n      lastSeenUrl: getRuntime(agentIdentifier).origin,\n      lastSeenRouteName: null,\n      timerMap: {},\n      timerBudget: MAX_TIMER_BUDGET,\n      currentNode: null,\n      prevNode: null,\n      nodeOnLastHashUpdate: null,\n      initialPageLoad: null,\n      pageLoaded: false,\n      childTime: 0,\n      depth: 0,\n      harvestTimeSeconds: getConfigurationValue(agentIdentifier, 'spa.harvestTimeSeconds') || 10,\n      interactionsToHarvest: [],\n      interactionsSent: [],\n      // The below feature flag is used to disable the SPA ajax fix for specific customers, see https://new-relic.atlassian.net/browse/NR-172169\n      disableSpaFix: (getConfigurationValue(agentIdentifier, 'feature_flags') || []).indexOf('disable-spa-fix') > -1\n    };\n    this.serializer = new Serializer(this);\n    const {\n      state,\n      serializer\n    } = this;\n    let {\n      blocked\n    } = this;\n    const baseEE = ee.get(agentIdentifier); // <-- parent baseEE\n    const mutationEE = baseEE.get('mutation');\n    const promiseEE = baseEE.get('promise');\n    const historyEE = baseEE.get('history');\n    const eventsEE = baseEE.get('events'); // ajax --> ee(123).emit() ee()\n    const timerEE = baseEE.get('timer');\n    const fetchEE = baseEE.get('fetch');\n    const jsonpEE = baseEE.get('jsonp');\n    const xhrEE = baseEE.get('xhr');\n    const tracerEE = baseEE.get('tracer');\n    const scheduler = new HarvestScheduler('events', {\n      onFinished: onHarvestFinished,\n      retryDelay: state.harvestTimeSeconds\n    }, {\n      agentIdentifier,\n      ee: baseEE\n    });\n    scheduler.harvest.on('events', onHarvestStarted);\n\n    // childTime is used when calculating exclusive time for a cb duration.\n    //\n    // Exclusive time will be different than the total time for either callbacks\n    // which synchronously invoke a customTracer callback or, trigger a synchronous\n    // event (eg. onreadystate=1 or popstate).\n    //\n    // At fn-end, childTime will contain the total time of all timed callbacks and\n    // event handlers which executed as a child of the current callback. At the\n    // begining of every callback, childTime is saved to the event context (which at\n    // that time contains the sum of its preceeding siblings) and is reset to 0. The\n    // callback is then executed, and its children may increase childTime.  At the\n    // end of the callback, it reports its exclusive time as its\n    // execution time - exlcuded. childTime is then reset to its previous\n    // value, and the totalTime of the callback that just finished executing is\n    // added to the childTime time.\n    //                                    | clock | childTime | ctx.ct | totalTime | exclusive |\n    // click fn-start                     |   0   |    0     |    0   |           |           |\n    //  | click begining:                 |   5   |    0     |    0   |           |           |\n    //  |   | custom-1 fn-start           |   10  |    0     |    0   |           |           |\n    //  |   |   |  custom-1 begining      |   15  |    0     |    0   |           |           |\n    //  |   |   |    |  custom-2 fn-start |   20  |    0     |    0   |           |           |\n    //  |   |   |    |  | custom-2        |   25  |    0     |    0   |           |           |\n    //  |   |   |    |  custom-2 fn-end   |   30  |    10    |    0   |     10    |     10    |\n    //  |   |   |  custom-1 middle        |   35  |    10    |    0   |           |           |\n    //  |   |   |    |  custom-3 fn-start |   40  |    0     |    10  |           |           |\n    //  |   |   |    |  | custom-3        |   45  |    0     |    10  |           |           |\n    //  |   |   |    |  custom-3 fn-end   |   50  |    20    |    0   |     10    |     10    |\n    //  |   |   |  custom-1 ending        |   55  |    20    |    0   |           |           |\n    //  |     custom-1 fn-end             |   60  |    50    |    0   |     50    |     30    |\n    //  | click ending:                   |   65  |    50    |        |           |           |\n    // click fn-end                       |   70  |    0     |    0   |     70    |     20    |\n\n    // if rum response determines that customer lacks entitlements for spa endpoint, block it\n    register('block-spa', () => {\n      blocked = true;\n      scheduler.stopTimer(true);\n    }, this.featureName, baseEE);\n    if (!isEnabled()) return;\n    state.initialPageLoad = new Interaction('initialPageLoad', 0, state.lastSeenUrl, state.lastSeenRouteName, onInteractionFinished, agentIdentifier);\n    state.initialPageLoad.save = true;\n    state.prevInteraction = state.initialPageLoad;\n    state.currentNode = state.initialPageLoad.root; // hint\n    // ensure that checkFinish calls are safe during initialPageLoad\n    state.initialPageLoad[REMAINING]++;\n    register(FN_START, callbackStart, this.featureName, baseEE);\n    register(CB_START, callbackStart, this.featureName, promiseEE);\n\n    // register plugins\n    var pluginApi = {\n      getCurrentNode,\n      setCurrentNode\n    };\n    register('spa-register', function (init) {\n      if (typeof init === 'function') {\n        init(pluginApi);\n      }\n    }, FEATURE_NAMES.spa, baseEE);\n    function callbackStart() {\n      state.depth++;\n      this.prevNode = state.currentNode;\n      this.ct = state.childTime;\n      state.childTime = 0;\n      state.timerBudget = MAX_TIMER_BUDGET;\n    }\n    register(FN_END, callbackEnd, this.featureName, baseEE);\n    register('cb-end', callbackEnd, this.featureName, promiseEE);\n    function callbackEnd() {\n      state.depth--;\n      var totalTime = this.jsTime || 0;\n      var exclusiveTime = totalTime - state.childTime;\n      state.childTime = this.ct + totalTime;\n      if (state.currentNode) {\n        // transfer accumulated callback time to the active interaction node\n        // run even if jsTime is 0 to update jsEnd\n        state.currentNode.callback(exclusiveTime, this[FN_END]);\n        if (this.isTraced) {\n          state.currentNode.attrs.tracedTime = exclusiveTime;\n        }\n      }\n      this.jsTime = state.currentNode ? 0 : exclusiveTime;\n      setCurrentNode(this.prevNode);\n      this.prevNode = null;\n      state.timerBudget = MAX_TIMER_BUDGET;\n    }\n    register(FN_START, function (args, eventSource) {\n      var ev = args[0];\n      var evName = ev.type;\n      var eventNode = ev[\"__nrNode:\".concat(bundleId)];\n      if (!state.pageLoaded && (evName === 'load' && eventSource === window || loadedAsDeferredBrowserScript)) {\n        state.pageLoaded = true;\n        // set to null so prevNode is set correctly\n        this.prevNode = state.currentNode = null;\n        if (state.initialPageLoad) {\n          eventNode = state.initialPageLoad.root;\n\n          // Even if initialPageLoad has remaining callbacks, force the initialPageLoad\n          // interaction to complete when the page load event occurs.\n          state.initialPageLoad[REMAINING] = 0;\n          originalSetTimeout(function () {\n            INTERACTION_EVENTS.push('popstate');\n          });\n        }\n      }\n      if (eventNode) {\n        // If we've already seen a previous handler for this specific event object,\n        // just restore that. We want multiple handlers for the same event to share\n        // a node.\n        setCurrentNode(eventNode);\n      } else if (evName === 'hashchange') {\n        setCurrentNode(state.nodeOnLastHashUpdate);\n        state.nodeOnLastHashUpdate = null;\n      } else if (eventSource instanceof XMLHttpRequest) {\n        // If this event was emitted by an XHR, restore the node ID associated with\n        // that XHR.\n        setCurrentNode(baseEE.context(eventSource).spaNode);\n      } else if (!state.currentNode && INTERACTION_EVENTS.indexOf(evName) !== -1) {\n        // Otherwise, if no interaction is currently active, create a new node ID,\n        // and let the aggregator know that we entered a new event handler callback\n        // so that it has a chance to possibly start an interaction.\n        var ixn = new Interaction(evName, this[FN_START], state.lastSeenUrl, state.lastSeenRouteName, onInteractionFinished, agentIdentifier);\n\n        // Store the interaction as prevInteraction in case it is prematurely discarded\n        state.prevInteraction = ixn;\n        setCurrentNode(ixn.root);\n        if (evName === 'click') {\n          var value = getActionText(ev.target);\n          if (value) {\n            state.currentNode.attrs.custom.actionText = value;\n          }\n        }\n      }\n      ev[\"__nrNode:\".concat(bundleId)] = state.currentNode;\n    }, this.featureName, eventsEE);\n\n    /**\n     * *** TIMERS ***\n     * setTimeout call needs to keep the interaction active in case a node is started\n     * in its callback.\n     */\n\n    // The context supplied to this callback will be shared with the fn-start/fn-end\n    // callbacks that fire around the callback passed to setTimeout originally.\n    register('setTimeout-end', function saveId(args, obj, timerId) {\n      if (!state.currentNode || state.timerBudget - this.timerDuration < 0) return;\n      if (args && !(args[0] instanceof Function)) return;\n      state.currentNode[INTERACTION][REMAINING]++;\n      this.timerId = timerId;\n      state.timerMap[timerId] = state.currentNode;\n      this.timerBudget = state.timerBudget - 50;\n    }, this.featureName, timerEE);\n    register('clearTimeout-start', function clear(args) {\n      var timerId = args[0];\n      var node = state.timerMap[timerId];\n      if (node) {\n        var interaction = node[INTERACTION];\n        interaction[REMAINING]--;\n        interaction.checkFinish();\n        delete state.timerMap[timerId];\n      }\n    }, this.featureName, timerEE);\n    register(FN_START, function () {\n      state.timerBudget = this.timerBudget || MAX_TIMER_BUDGET;\n      var id = this.timerId;\n      var node = state.timerMap[id];\n      setCurrentNode(node);\n      delete state.timerMap[id];\n      if (node) node[INTERACTION][REMAINING]--;\n    }, this.featureName, timerEE);\n\n    /**\n     * *** XHR ***\n     * - `new-xhr` event is fired when new instance of XHR is created. Here we create\n     *    a new node and store it on the XHR object.\n     * -  When the send method is called (`send-xhr-start` event), we tell the interaction\n     *    to wait for this XHR to complete.\n     * -  When any direct event handlers are invoked (`fn-start` on the `xhr` emitter),\n     *    we restore the node in case other child nodes are started here.\n     * -  Callbacks attached using `addEventListener` are handled using `fn-start` on the\n     *    `events` emitter.\n     * -  When `xhr-resolved` is emitted, we end the node. The node.finish() call also\n     *    instructs the interaction to stop waiting for this node.\n     */\n\n    // context is shared with new-xhr event, and is stored on the xhr iteself.\n    register(FN_START, function () {\n      setCurrentNode(this[SPA_NODE]);\n    }, this.featureName, xhrEE);\n\n    // context is stored on the xhr and is shared with all callbacks associated\n    // with the new xhr\n    register('new-xhr', function () {\n      if (!state.disableSpaFix && !state.currentNode && state.prevInteraction && !state.prevInteraction.ignored) {\n        /*\n         * The previous interaction was discarded before a route change. Restore the interaction\n         * in case this XHR is associated with a route change.\n         */\n        const interaction = state.prevInteraction;\n        state.currentNode = interaction.root;\n        interaction.root.end = null;\n      }\n      if (state.currentNode) {\n        this[SPA_NODE] = state.currentNode.child('ajax', null, null, true);\n      }\n    }, this.featureName, xhrEE);\n    register('send-xhr-start', function () {\n      var node = this[SPA_NODE];\n      if (node && !this.sent) {\n        this.sent = true;\n        node.dt = this.dt;\n        node.jsEnd = node.start = this.startTime;\n        node[INTERACTION][REMAINING]++;\n      }\n    }, this.featureName, xhrEE);\n    register('xhr-resolved', function () {\n      var node = this[SPA_NODE];\n      if (node) {\n        if (!shouldCollectEvent(this.params)) {\n          node.cancel();\n          return;\n        }\n        var attrs = node.attrs;\n        attrs.params = this.params;\n        attrs.metrics = this.metrics;\n        node.finish(this.endTime);\n        if (!!this.currentNode && !!this.currentNode.interaction) this.currentNode.interaction.checkFinish();\n      }\n    }, this.featureName, baseEE);\n\n    /**\n     * *** JSONP ***\n     *\n     */\n\n    register('new-jsonp', function (url) {\n      if (state.currentNode) {\n        var node = this[JSONP_NODE] = state.currentNode.child('ajax', this[FETCH_START]);\n        node.start = this['new-jsonp'];\n        this.url = url;\n        this.status = null;\n      }\n    }, this.featureName, jsonpEE);\n    register('cb-start', function (args) {\n      var node = this[JSONP_NODE];\n      if (node) {\n        setCurrentNode(node);\n        this.status = 200;\n      }\n    }, this.featureName, jsonpEE);\n    register('jsonp-error', function () {\n      var node = this[JSONP_NODE];\n      if (node) {\n        setCurrentNode(node);\n        this.status = 0;\n      }\n    }, this.featureName, jsonpEE);\n    register(JSONP_END, function () {\n      var node = this[JSONP_NODE];\n      if (node) {\n        // if no status is set then cb never fired - so it's not a valid JSONP\n        if (this.status === null) {\n          node.cancel();\n          return;\n        }\n        var attrs = node.attrs;\n        var params = attrs.params = {};\n        var parsed = parseUrl(this.url);\n        params.method = 'GET';\n        params.pathname = parsed.pathname;\n        params.host = parsed.hostname + ':' + parsed.port;\n        params.status = this.status;\n        attrs.metrics = {\n          txSize: 0,\n          rxSize: 0\n        };\n        attrs.isJSONP = true;\n        node.jsEnd = this[JSONP_END];\n        node.jsTime = this[CB_START] ? this[JSONP_END] - this[CB_START] : 0;\n        node.finish(node.jsEnd);\n      }\n    }, this.featureName, jsonpEE);\n    register(FETCH_START, function (fetchArguments, dtPayload) {\n      if (fetchArguments) {\n        if (!state.disableSpaFix && !state.currentNode && state.prevInteraction && !state.prevInteraction.ignored) {\n          /*\n           * The previous interaction was discarded before a route change. Restore the interaction\n           * in case this XHR is associated with a route change.\n           */\n          const interaction = state.prevInteraction;\n          state.currentNode = interaction.root;\n          interaction.root.end = null;\n        }\n        if (state.currentNode) {\n          this[SPA_NODE] = state.currentNode.child('ajax', this[FETCH_START]);\n          if (dtPayload && this[SPA_NODE]) this[SPA_NODE].dt = dtPayload;\n        }\n      }\n    }, this.featureName, fetchEE);\n    register(FETCH_BODY + 'start', function (args) {\n      if (state.currentNode) {\n        this[SPA_NODE] = state.currentNode;\n        state.currentNode[INTERACTION][REMAINING]++;\n      }\n    }, this.featureName, fetchEE);\n    register(FETCH_BODY + 'end', function (args, ctx, bodyPromise) {\n      var node = this[SPA_NODE];\n      if (node) node[INTERACTION][REMAINING]--;\n    }, this.featureName, fetchEE);\n    register(FETCH_DONE, function (err, res) {\n      var node = this[SPA_NODE];\n      if (node) {\n        if (err || !shouldCollectEvent(this.params)) {\n          node.cancel();\n          return;\n        }\n        var attrs = node.attrs;\n        attrs.params = this.params;\n        attrs.metrics = {\n          txSize: this.txSize,\n          rxSize: this.rxSize\n        };\n        attrs.isFetch = true;\n        node.finish(this[FETCH_DONE]);\n      }\n    }, this.featureName, fetchEE);\n    register('newURL', function (url, hashChangedDuringCb) {\n      if (state.currentNode) {\n        state.currentNode[INTERACTION].setNewURL(url);\n      } else if (state.prevInteraction && !state.prevInteraction.ignored) {\n        /*\n         * The previous interaction was discarded before the route was changed. This can happen in SPA\n         * frameworks when using lazy loading. We have also seen this in version 11+ of Nextjs where\n         * some route changes re-use cached resolved promises.\n         */\n        const interaction = state.prevInteraction;\n        interaction.setNewURL(url);\n        interaction.root.end = null;\n        setCurrentNode(interaction.root);\n      }\n      if (state.currentNode) {\n        if (state.lastSeenUrl !== url) {\n          state.currentNode[INTERACTION].routeChange = true;\n        }\n        if (hashChangedDuringCb) {\n          state.nodeOnLastHashUpdate = state.currentNode;\n        }\n      }\n      state.lastSeenUrl = url;\n    }, this.featureName, historyEE);\n\n    /**\n     * SCRIPTS\n     *   This is only needed to keep the interaction open while external scripts are being loaded.\n     *   The script that is loaded could continue the interaction by making additional AJAX\n     *   calls or changing the URL. The interaction context (currentNode) needs to be\n     *   restored somehow, but this differs based on the specific customer code. In some cases, we\n     *   could wrap a JSONP callback, in other cases we could wrap a higher-level API, and in\n     *   some cases we may not be able to restore context automatically (customer would need\n     *   to instrument their code manually).\n     *\n     * - We do not restore the original context in the load/error callbacks. This would not\n     *   work for the scripts themselves because by the time the load event fires, the\n     *   script content has already been executed.\n     */\n\n    // dom-start is emitted when appendChild or replaceChild are called. If the element being\n    // inserted is script and we are inside an interaction, we will keep the interaction open\n    // until the script is loaded.\n    jsonpEE.on('dom-start', function (args) {\n      if (!state.currentNode) return;\n      var el = args[0];\n      var isScript = el && el.nodeName === 'SCRIPT' && el.src !== '';\n      var interaction = state.currentNode.interaction;\n      if (isScript) {\n        // increase remaining count to keep the interaction open\n        interaction[REMAINING]++;\n        el.addEventListener('load', onload, eventListenerOpts(false));\n        el.addEventListener('error', onerror, eventListenerOpts(false));\n      }\n      function onload() {\n        // decrease remaining to allow interaction to finish\n        interaction[REMAINING]--;\n\n        // checkFinish is what initiates closing interaction, but is only called\n        // when setCurrentNode is called. Since we are not restoring a node here,\n        // we need to initiate the check manually.\n        // The reason we are not restoring the node here is because 1) this is not\n        // where the code of the external script runs (by the time the load event\n        // fires, it has already executed), and 2) it would require storing the context\n        // probably on the DOM node and restoring in all callbacks, which is a different\n        // use case than lazy loading.\n        interaction.checkFinish();\n      }\n      function onerror() {\n        interaction[REMAINING]--;\n        interaction.checkFinish();\n      }\n    });\n    register(FN_START, function () {\n      setCurrentNode(state.prevNode);\n    }, this.featureName, mutationEE);\n    register('resolve-start', resolvePromise, this.featureName, promiseEE);\n    register('executor-err', resolvePromise, this.featureName, promiseEE);\n    register('propagate', saveNode, this.featureName, promiseEE);\n    register(CB_START, function () {\n      var ctx = this.getCtx ? this.getCtx() : this;\n      setCurrentNode(ctx[SPA_NODE]);\n    }, this.featureName, promiseEE);\n    register(INTERACTION_API + 'get', function (t) {\n      var interaction;\n      if (state?.currentNode?.[INTERACTION]) interaction = this.ixn = state.currentNode[INTERACTION];else if (state?.prevNode?.end === null && state?.prevNode?.[INTERACTION]?.root?.[INTERACTION]?.eventName !== 'initialPageLoad') interaction = this.ixn = state.prevNode[INTERACTION];else interaction = this.ixn = new Interaction('api', t, state.lastSeenUrl, state.lastSeenRouteName, onInteractionFinished, agentIdentifier);\n      if (!state.currentNode) {\n        interaction.checkFinish();\n        if (state.depth) setCurrentNode(interaction.root);\n      }\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'actionText', function (t, actionText) {\n      var customAttrs = this.ixn.root.attrs.custom;\n      if (actionText) customAttrs.actionText = actionText;\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'setName', function (t, name, trigger) {\n      var attrs = this.ixn.root.attrs;\n      if (name) attrs.customName = name;\n      if (trigger) attrs.trigger = trigger;\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'setAttribute', function (t, name, value) {\n      this.ixn.root.attrs.custom[name] = value;\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'end', function (timestamp) {\n      var interaction = this.ixn;\n      var node = activeNodeFor(interaction);\n      setCurrentNode(null);\n      node.child('customEnd', timestamp).finish(timestamp);\n      interaction.finish();\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'ignore', function (t) {\n      this.ixn.ignored = true;\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'save', function (t) {\n      this.ixn.save = true;\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'tracer', function (timestamp, name, store) {\n      var interaction = this.ixn;\n      var parent = activeNodeFor(interaction);\n      var ctx = baseEE.context(store);\n      if (!name) {\n        ctx.inc = ++interaction[REMAINING];\n        return ctx[SPA_NODE] = parent;\n      }\n      ctx[SPA_NODE] = parent.child('customTracer', timestamp, name);\n    }, this.featureName, baseEE);\n    register(FN_START, tracerDone, this.featureName, tracerEE);\n    register('no-' + FN_START, tracerDone, this.featureName, tracerEE);\n    function tracerDone(timestamp, interactionContext, hasCb) {\n      var node = this[SPA_NODE];\n      if (!node) return;\n      var interaction = node[INTERACTION];\n      var inc = this.inc;\n      this.isTraced = true;\n      if (inc) {\n        interaction[REMAINING]--;\n      } else if (node) {\n        node.finish(timestamp);\n      }\n      hasCb ? setCurrentNode(node) : interaction.checkFinish();\n    }\n    register(INTERACTION_API + 'getContext', function (t, cb) {\n      var store = this.ixn.root.attrs.store;\n      setTimeout(function () {\n        cb(store);\n      }, 0);\n    }, this.featureName, baseEE);\n    register(INTERACTION_API + 'onEnd', function (t, cb) {\n      this.ixn.handlers.push(cb);\n    }, this.featureName, baseEE);\n    register('api-routeName', function (t, currentRouteName) {\n      state.lastSeenRouteName = currentRouteName;\n      if (state.currentNode) state.currentNode[INTERACTION].setNewRoute(currentRouteName);\n    }, this.featureName, baseEE);\n    function activeNodeFor(interaction) {\n      return state.currentNode && state.currentNode[INTERACTION] === interaction ? state.currentNode : interaction.root;\n    }\n    function saveNode(val, overwrite) {\n      if (overwrite || !this[SPA_NODE]) this[SPA_NODE] = state.currentNode;\n    }\n    function resolvePromise() {\n      if (!this.resolved) {\n        this.resolved = true;\n        this[SPA_NODE] = state.currentNode;\n      }\n    }\n    function getCurrentNode() {\n      return state.currentNode;\n    }\n    function setCurrentNode(newNode) {\n      if (!state.pageLoaded && !newNode && state.initialPageLoad) newNode = state.initialPageLoad.root;\n      if (state.currentNode) {\n        state.currentNode[INTERACTION].checkFinish();\n      }\n      state.prevNode = state.currentNode;\n      state.currentNode = newNode && !newNode[INTERACTION].root.end ? newNode : null;\n    }\n    function onInteractionFinished(interaction) {\n      if (interaction === state.initialPageLoad) state.initialPageLoad = null;\n      var root = interaction.root;\n      var attrs = root.attrs;\n\n      // make sure that newrelic[INTERACTION]() works in end handler\n      state.currentNode = root;\n      mapOwn(interaction.handlers, function (i, cb) {\n        cb(attrs.store);\n      });\n      setCurrentNode(null);\n    }\n    function onHarvestStarted(options) {\n      if (state.interactionsToHarvest.length === 0 || blocked) return {};\n      var payload = serializer.serializeMultiple(state.interactionsToHarvest, 0, navTiming);\n      if (options.retry) {\n        state.interactionsToHarvest.forEach(function (interaction) {\n          state.interactionsSent.push(interaction);\n        });\n      }\n      state.interactionsToHarvest = [];\n      return {\n        body: {\n          e: payload\n        }\n      };\n    }\n    function onHarvestFinished(result) {\n      if (result.sent && result.retry && state.interactionsSent.length > 0) {\n        state.interactionsSent.forEach(function (interaction) {\n          state.interactionsToHarvest.unshift(interaction);\n        });\n        state.interactionsSent = [];\n      }\n    }\n    baseEE.on('errorAgg', function (type, name, params, metrics) {\n      if (!state.currentNode) return;\n      params._interactionId = state.currentNode.interaction.id;\n      // do not capture parentNodeId when in root node\n      if (state.currentNode.type && state.currentNode.type !== 'interaction') {\n        params._interactionNodeId = state.currentNode.id;\n      }\n    });\n    baseEE.on('interaction', saveInteraction);\n    function getActionText(node) {\n      var nodeType = node.tagName.toLowerCase();\n      var goodNodeTypes = ['a', 'button', 'input'];\n      var isGoodNode = goodNodeTypes.indexOf(nodeType) !== -1;\n      if (isGoodNode) {\n        return node.title || node.value || node.innerText;\n      }\n    }\n    function saveInteraction(interaction) {\n      if (interaction.ignored || !interaction.save && !interaction.routeChange) {\n        baseEE.emit('interactionDiscarded', [interaction]);\n        return;\n      }\n      if (state.prevInteraction === interaction) {\n        // If the interaction is being saved, remove it from prevInteraction variable\n        // to prevent the interaction from possibly being sent twice or causing an internal\n        // recursive loop issue.\n        state.prevInteraction = null;\n      }\n\n      // assign unique id, this is serialized and used to link interactions with errors\n      interaction.root.attrs.id = generateUuid();\n      if (interaction.root.attrs.trigger === 'initialPageLoad') {\n        interaction.root.attrs.firstPaint = firstPaint.current.value;\n        interaction.root.attrs.firstContentfulPaint = firstContentfulPaint.current.value;\n      }\n      baseEE.emit('interactionSaved', [interaction]);\n      state.interactionsToHarvest.push(interaction);\n      let smCategory = 'RouteChange';\n      if (interaction.root?.attrs?.trigger === 'initialPageLoad') smCategory = 'InitialPageLoad';else if (interaction.root?.attrs?.trigger === 'api') smCategory = 'Custom';\n      handle(SUPPORTABILITY_METRIC_CHANNEL, [\"Spa/Interaction/\".concat(smCategory, \"/Duration/Ms\"), Math.max((interaction.root?.end || 0) - (interaction.root?.start || 0), 0)], undefined, FEATURE_NAMES.metrics, baseEE);\n      scheduler.scheduleHarvest(0);\n    }\n    function isEnabled() {\n      var enabled = getConfigurationValue(agentIdentifier, 'spa.enabled');\n      return enabled !== false;\n    }\n    this.drain();\n  }\n}","var e,n,t,r,i,a=-1,o=function(e){addEventListener(\"pageshow\",(function(n){n.persisted&&(a=n.timeStamp,e(n))}),!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType(\"navigation\")[0]},u=function(){var e=c();return e&&e.activationStart||0},f=function(e,n){var t=c(),r=\"navigate\";a>=0?r=\"back-forward-cache\":t&&(document.prerendering||u()>0?r=\"prerender\":document.wasDiscarded?r=\"restore\":t.type&&(r=t.type.replace(/_/g,\"-\")));return{name:e,value:void 0===n?-1:n,rating:\"good\",delta:0,entries:[],id:\"v3-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},s=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},d=function(e,n,t,r){var i,a;return function(o){n.value>=0&&(o||r)&&((a=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=a,n.rating=function(e,n){return e>n[1]?\"poor\":e>n[0]?\"needs-improvement\":\"good\"}(n.value,t),e(n))}},l=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},p=function(e){var n=function(n){\"pagehide\"!==n.type&&\"hidden\"!==document.visibilityState||e(n)};addEventListener(\"visibilitychange\",n,!0),addEventListener(\"pagehide\",n,!0)},v=function(e){var n=!1;return function(t){n||(e(t),n=!0)}},m=-1,h=function(){return\"hidden\"!==document.visibilityState||document.prerendering?1/0:0},g=function(e){\"hidden\"===document.visibilityState&&m>-1&&(m=\"visibilitychange\"===e.type?e.timeStamp:0,T())},y=function(){addEventListener(\"visibilitychange\",g,!0),addEventListener(\"prerenderingchange\",g,!0)},T=function(){removeEventListener(\"visibilitychange\",g,!0),removeEventListener(\"prerenderingchange\",g,!0)},E=function(){return m<0&&(m=h(),y(),o((function(){setTimeout((function(){m=h(),y()}),0)}))),{get firstHiddenTime(){return m}}},C=function(e){document.prerendering?addEventListener(\"prerenderingchange\",(function(){return e()}),!0):e()},L=[1800,3e3],b=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"FCP\"),a=s(\"paint\",(function(e){e.forEach((function(e){\"first-contentful-paint\"===e.name&&(a.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-u(),0),i.entries.push(e),t(!0)))}))}));a&&(t=d(e,i,L,n.reportAllChanges),o((function(r){i=f(\"FCP\"),t=d(e,i,L,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,t(!0)}))})))}))},w=[.1,.25],S=function(e,n){n=n||{},b(v((function(){var t,r=f(\"CLS\",0),i=0,a=[],c=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=a[0],t=a[a.length-1];i&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>r.value&&(r.value=i,r.entries=a,t())},u=s(\"layout-shift\",c);u&&(t=d(e,r,w,n.reportAllChanges),p((function(){c(u.takeRecords()),t(!0)})),o((function(){i=0,r=f(\"CLS\",0),t=d(e,r,w,n.reportAllChanges),l((function(){return t()}))})),setTimeout(t,0))})))},A={passive:!0,capture:!0},I=new Date,P=function(r,i){e||(e=i,n=r,t=new Date,k(removeEventListener),F())},F=function(){if(n>=0&&n<t-I){var i={entryType:\"first-input\",name:e.type,target:e.target,cancelable:e.cancelable,startTime:e.timeStamp,processingStart:e.timeStamp+n};r.forEach((function(e){e(i)})),r=[]}},M=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;\"pointerdown\"==e.type?function(e,n){var t=function(){P(e,n),i()},r=function(){i()},i=function(){removeEventListener(\"pointerup\",t,A),removeEventListener(\"pointercancel\",r,A)};addEventListener(\"pointerup\",t,A),addEventListener(\"pointercancel\",r,A)}(n,e):P(n,e)}},k=function(e){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach((function(n){return e(n,M,A)}))},D=[100,300],x=function(t,i){i=i||{},C((function(){var a,c=E(),u=f(\"FID\"),l=function(e){e.startTime<c.firstHiddenTime&&(u.value=e.processingStart-e.startTime,u.entries.push(e),a(!0))},m=function(e){e.forEach(l)},h=s(\"first-input\",m);a=d(t,u,D,i.reportAllChanges),h&&p(v((function(){m(h.takeRecords()),h.disconnect()}))),h&&o((function(){var o;u=f(\"FID\"),a=d(t,u,D,i.reportAllChanges),r=[],n=-1,e=null,k(addEventListener),o=l,r.push(o),F()}))}))},B=0,R=1/0,H=0,N=function(e){e.forEach((function(e){e.interactionId&&(R=Math.min(R,e.interactionId),H=Math.max(H,e.interactionId),B=H?(H-R)/7+1:0)}))},O=function(){return i?B:performance.interactionCount||0},q=function(){\"interactionCount\"in performance||i||(i=s(\"event\",N,{type:\"event\",buffered:!0,durationThreshold:0}))},j=[200,500],_=0,z=function(){return O()-_},G=[],J={},K=function(e){var n=G[G.length-1],t=J[e.interactionId];if(t||G.length<10||e.duration>n.latency){if(t)t.entries.push(e),t.latency=Math.max(t.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};J[r.id]=r,G.push(r)}G.sort((function(e,n){return n.latency-e.latency})),G.splice(10).forEach((function(e){delete J[e.id]}))}},Q=function(e,n){n=n||{},C((function(){var t;q();var r,i=f(\"INP\"),a=function(e){e.forEach((function(e){(e.interactionId&&K(e),\"first-input\"===e.entryType)&&(!G.some((function(n){return n.entries.some((function(n){return e.duration===n.duration&&e.startTime===n.startTime}))}))&&K(e))}));var n,t=(n=Math.min(G.length-1,Math.floor(z()/50)),G[n]);t&&t.latency!==i.value&&(i.value=t.latency,i.entries=t.entries,r())},c=s(\"event\",a,{durationThreshold:null!==(t=n.durationThreshold)&&void 0!==t?t:40});r=d(e,i,j,n.reportAllChanges),c&&(\"interactionId\"in PerformanceEventTiming.prototype&&c.observe({type:\"first-input\",buffered:!0}),p((function(){a(c.takeRecords()),i.value<0&&z()>0&&(i.value=0,i.entries=[]),r(!0)})),o((function(){G=[],_=O(),i=f(\"INP\"),r=d(e,i,j,n.reportAllChanges)})))}))},U=[2500,4e3],V={},W=function(e,n){n=n||{},C((function(){var t,r=E(),i=f(\"LCP\"),a=function(e){var n=e[e.length-1];n&&n.startTime<r.firstHiddenTime&&(i.value=Math.max(n.startTime-u(),0),i.entries=[n],t())},c=s(\"largest-contentful-paint\",a);if(c){t=d(e,i,U,n.reportAllChanges);var m=v((function(){V[i.id]||(a(c.takeRecords()),c.disconnect(),V[i.id]=!0,t(!0))}));[\"keydown\",\"click\"].forEach((function(e){addEventListener(e,(function(){return setTimeout(m,0)}),!0)})),p(m),o((function(r){i=f(\"LCP\"),t=d(e,i,U,n.reportAllChanges),l((function(){i.value=performance.now()-r.timeStamp,V[i.id]=!0,t(!0)}))}))}}))},X=[800,1800],Y=function e(n){document.prerendering?C((function(){return e(n)})):\"complete\"!==document.readyState?addEventListener(\"load\",(function(){return e(n)}),!0):setTimeout(n,0)},Z=function(e,n){n=n||{};var t=f(\"TTFB\"),r=d(e,t,X,n.reportAllChanges);Y((function(){var i=c();if(i){var a=i.responseStart;if(a<=0||a>performance.now())return;t.value=Math.max(a-u(),0),t.entries=[i],r(!0),o((function(){t=f(\"TTFB\",0),(r=d(e,t,X,n.reportAllChanges))(!0)}))}}))};export{w as CLSThresholds,L as FCPThresholds,D as FIDThresholds,j as INPThresholds,U as LCPThresholds,X as TTFBThresholds,S as getCLS,b as getFCP,x as getFID,Q as getINP,W as getLCP,Z as getTTFB,S as onCLS,b as onFCP,x as onFID,Q as onINP,W as onLCP,Z as onTTFB};\n"],"names":["denyList","shouldCollectEvent","params","length","undefined","hostname","i","parsed","domainMatchesPattern","comparePath","pathname","setDenyList","denyListConfig","url","indexOf","substring","firstSlash","host","split","push","pattern","domain","path","hasOwnProp","Object","prototype","hasOwnProperty","MAX_ATTRIBUTES","nullable","val","fn","comma","numeric","n","noDefault","Math","floor","toString","getAddStringContext","agentIdentifier","stringTable","create","stringTableIdx","str","obfuscator","Obfuscator","String","shouldObfuscate","obfuscateString","call","replace","escapable","quoteString","addCustomAttributes","attrs","addString","attrParts","mapOwn","key","serializedValue","type","stringify","START","END","UNLOAD_EVENT","REDIRECT","DOMAIN_LOOKUP","ONNECT","REQUEST","RESPONSE","LOAD_EVENT","DOM_CONTENT_LOAD_EVENT","navTimingValues","addPT","offset","pt","v","arguments","isL1Api","of","handleValue","domLoading","domInteractive","domComplete","addPN","pn","navigate","reload","back_forward","prerender","redirectCount","value","obj","prop","isOldApi","max","round","VITAL_NAMES","FIRST_PAINT","FIRST_CONTENTFUL_PAINT","FIRST_INPUT_DELAY","LARGEST_CONTENTFUL_PAINT","CUMULATIVE_LAYOUT_SHIFT","INTERACTION_TO_NEXT_PAINT","LONG_TASK","TIME_TO_FIRST_BYTE","firstContentfulPaint","VitalMetric","isBrowserScope","iOSBelow16","initiallyHidden","paintEntries","performance","getEntriesByType","forEach","entry","name","update","startTime","entries","e","onFCP","_ref","isValid","firstPaint","handleEntries","observer","disconnect","PerformanceObserver","supportedEntryTypes","includes","list","Promise","resolve","then","getEntries","observe","buffered","constructor","roundingMethod","_classPrivateFieldInitSpec","_subscribers","writable","Set","_defineProperty","this","state","history","_classPrivateFieldGet","cb","current","subscribe","callback","add","delete","lastId","InteractionNode","interaction","parent","timestamp","defineProperty","id","children","end","jsEnd","start","jsTime","cancelled","InteractionNodePrototype","child","dontWait","nodes","onNodeAdded","node","remaining","exclusiveTime","lastCb","cancel","finish","_parent","lastFinish","checkFinish","originalSetTimeout","originals","ST","originalClearTimeout","CT","Interaction","eventName","routeName","onFinished","ee","get","finishTimer","checkingFinish","handlers","done","root","trigger","initialPageURL","getRuntime","origin","oldRoute","newURL","oldURL","custom","store","InteractionPrototype","_resetFinishCheck","setNewURL","setNewRoute","route","newRoute","endTimestamp","customAttrs","getInfo","jsAttributes","attr","emit","Serializer","SharedContext","super","firstTimestamp","serializeMultiple","interactions","navTiming","info","sharedContext","serialized","serializeInteraction","routeChange","serializeSingle","isRouteChange","isInitialPage","typeIdsByName","ajax","customTracer","includeHashFragment","addNode","nodeList","typeName","typeId","startTimestamp","childCount","attrCount","apmAttributes","atts","hasNavTiming","metrics","queueTime","appTime","applicationTime","fields","cleanURL","customName","concat","method","status","txSize","rxSize","isFetch","isJSONP","dt","spanId","traceId","keys","gql","ajaxAttrParts","tracedTime","unshift","join","seperator","navTimingNode","prev","slice","FEATURE_NAME","INTERACTION_EVENTS","MAX_TIMER_BUDGET","FN_START","FN_END","CB_START","INTERACTION_API","REMAINING","INTERACTION","SPA_NODE","JSONP_NODE","FETCH_START","FETCH_DONE","FETCH_BODY","JSONP_END","CONSTANTS","Aggregate","AggregateBase","aggregator","lastSeenUrl","lastSeenRouteName","timerMap","timerBudget","currentNode","prevNode","nodeOnLastHashUpdate","initialPageLoad","pageLoaded","childTime","depth","harvestTimeSeconds","getConfigurationValue","interactionsToHarvest","interactionsSent","disableSpaFix","serializer","blocked","baseEE","mutationEE","promiseEE","historyEE","eventsEE","timerEE","fetchEE","jsonpEE","xhrEE","tracerEE","scheduler","HarvestScheduler","result","sent","retry","retryDelay","harvest","on","options","payload","body","register","stopTimer","featureName","onInteractionFinished","save","prevInteraction","callbackStart","pluginApi","getCurrentNode","setCurrentNode","init","FEATURE_NAMES","spa","callbackEnd","args","eventSource","ev","evName","eventNode","bundleId","window","loadedAsDeferredBrowserScript","XMLHttpRequest","context","spaNode","ixn","nodeType","tagName","toLowerCase","title","innerText","getActionText","target","actionText","timerId","timerDuration","Function","ignored","endTime","parseUrl","port","fetchArguments","dtPayload","ctx","bodyPromise","err","res","hashChangedDuringCb","el","isScript","nodeName","src","addEventListener","eventListenerOpts","resolvePromise","overwrite","getCtx","t","_state$currentNode","_state$prevNode","_state$prevNode2","activeNodeFor","inc","tracerDone","setTimeout","currentRouteName","_interactionId","_interactionNodeId","_interaction$root","_interaction$root2","_interaction$root3","_interaction$root4","generateUuid","smCategory","handle","SUPPORTABILITY_METRIC_CHANNEL","scheduleHarvest","drain","ct","totalTime","isTraced","interactionContext","hasCb","resolved","newNode","r","a","o","persisted","timeStamp","c","u","activationStart","f","document","prerendering","wasDiscarded","rating","delta","Date","now","random","navigationType","s","assign","d","l","requestAnimationFrame","p","visibilityState","m","h","g","T","y","removeEventListener","E","firstHiddenTime","C","L","b","reportAllChanges","w","S","hadRecentInput","takeRecords","A","passive","capture","I","P","k","F","entryType","cancelable","processingStart","M","D","x","B","R","H","N","interactionId","min","O","interactionCount","q","durationThreshold","j","_","z","G","J","K","duration","latency","sort","splice","Q","some","PerformanceEventTiming","U","V","W","X","Y","readyState","Z","responseStart"],"sourceRoot":""}