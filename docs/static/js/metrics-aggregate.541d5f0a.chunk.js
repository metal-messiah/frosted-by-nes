"use strict";(self.webpackChunkfrosted_by_nes=self.webpackChunkfrosted_by_nes||[]).push([[147],{999:(t,e,r)=>{r.r(e),r.d(e,{Aggregate:()=>D});var o=r(4572),n=r(8958),i=r(4613),s=r(7661),c=r(6477),a=r(3980);const p="React",u="NextJS",l="Vue",h="NuxtJS",y="Angular",d="AngularUniversal",w="Svelte",b="SvelteKit",g="Preact",f="PreactSSR",O="AngularJS",S="Backbone",m="Ember",M="Meteor",P="Zepto",j="Jquery",v="MooTools",k="Qwik",x="Electron";function R(){if(!a.il)return[];const t=[];try{(function(){try{return Object.prototype.hasOwnProperty.call(window,"React")||Object.prototype.hasOwnProperty.call(window,"ReactDOM")||Object.prototype.hasOwnProperty.call(window,"ReactRedux")||document.querySelector("[data-reactroot], [data-reactid]")||(()=>{const t=document.querySelectorAll("body > div");for(let e=0;e<t.length;e++)if(Object.prototype.hasOwnProperty.call(t[e],"_reactRootContainer"))return!0})()}catch(t){return!1}})()&&(t.push(p),function(){try{return Object.prototype.hasOwnProperty.call(window,"next")&&Object.prototype.hasOwnProperty.call(window.next,"version")}catch(t){return!1}}()&&t.push(u)),function(){try{return Object.prototype.hasOwnProperty.call(window,"Vue")}catch(t){return!1}}()&&(t.push(l),function(){try{return Object.prototype.hasOwnProperty.call(window,"$nuxt")&&Object.prototype.hasOwnProperty.call(window.$nuxt,"nuxt")}catch(t){return!1}}()&&t.push(h)),function(){try{return Object.prototype.hasOwnProperty.call(window,"ng")||document.querySelector("[ng-version]")}catch(t){return!1}}()&&(t.push(y),function(){try{return document.querySelector("[ng-server-context]")}catch(t){return!1}}()&&t.push(d)),function(){try{return Object.prototype.hasOwnProperty.call(window,"__svelte")}catch(t){return!1}}()&&(t.push(w),function(){try{return!!Object.keys(window).find((t=>t.startsWith("__sveltekit")))}catch(t){return!1}}()&&t.push(b)),function(){try{return Object.prototype.hasOwnProperty.call(window,"preact")}catch(t){return!1}}()&&(t.push(g),function(){try{return document.querySelector('script[type="__PREACT_CLI_DATA__"]')}catch(t){return!1}}()&&t.push(f)),function(){try{return Object.prototype.hasOwnProperty.call(window,"angular")||document.querySelector(".ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]")||document.querySelector('script[src*="angular.js"], script[src*="angular.min.js"]')}catch(t){return!1}}()&&t.push(O),Object.prototype.hasOwnProperty.call(window,"Backbone")&&t.push(S),Object.prototype.hasOwnProperty.call(window,"Ember")&&t.push(m),Object.prototype.hasOwnProperty.call(window,"Meteor")&&t.push(M),Object.prototype.hasOwnProperty.call(window,"Zepto")&&t.push(P),Object.prototype.hasOwnProperty.call(window,"jQuery")&&t.push(j),Object.prototype.hasOwnProperty.call(window,"MooTools")&&t.push(v),Object.prototype.hasOwnProperty.call(window,"qwikevents")&&t.push(k),function(){try{return"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}catch(t){return!1}}()&&t.push(x)}catch(e){}return t}var G=r(8649),_=r(4355),A=r(7257),C=r(1997),E=r(1527);class D extends E.m{constructor(t,e){let r;super(t,e,c.t9),(0,i.X)("block-err",(()=>{this.blocked=!0,r&&(r.aborted=!0)}),this.featureName,this.ee),(0,i.X)(c.xS,this.storeSupportabilityMetrics.bind(this),this.featureName,this.ee),(0,i.X)(c.vz,this.storeEventMetrics.bind(this),this.featureName,this.ee),this.singleChecks(),this.eachSessionChecks(),this.ee.on("drain-".concat(this.featureName),(()=>{r=new s.o("jserrors",{onUnload:()=>this.unload()},this),r.harvest.on("jserrors",(()=>({body:this.aggregator.take(["cm","sm"])})))})),this.drain()}storeSupportabilityMetrics(t,e){if(this.blocked)return;const r=c.mY,o={name:t};this.aggregator.storeMetric(r,t,o,e)}storeEventMetrics(t,e){if(this.blocked)return;const r=c.gF,o={name:t};this.aggregator.store(r,t,o,e)}singleChecks(){const{distMethod:t,loaderType:e}=(0,n.OP)(this.agentIdentifier);if(e&&this.storeSupportabilityMetrics("Generic/LoaderType/".concat(e,"/Detected")),t&&this.storeSupportabilityMetrics("Generic/DistMethod/".concat(t,"/Detected")),a.il){var r;this.storeSupportabilityMetrics("Generic/Runtime/Browser/Detected");const t=null===(r=document)||void 0===r||null===(r=r.currentScript)||void 0===r?void 0:r.nonce;t&&""!==t&&this.storeSupportabilityMetrics("Generic/Runtime/Nonce/Detected"),(0,A.KB)((()=>{R().forEach((t=>{this.storeSupportabilityMetrics("Framework/"+t+"/Detected")}))}))}else a.v6?this.storeSupportabilityMetrics("Generic/Runtime/Worker/Detected"):this.storeSupportabilityMetrics("Generic/Runtime/Unknown/Detected");(0,G.V)()&&this.storeSupportabilityMetrics("Generic/FileProtocol/Detected");const o=(0,_.$c)(this.agentIdentifier);o.length>0&&this.storeSupportabilityMetrics("Generic/Obfuscate/Detected"),o.length>0&&!(0,_.Ng)(o)&&this.storeSupportabilityMetrics("Generic/Obfuscate/Invalid");const{proxy:i}=(0,n.P_)(this.agentIdentifier);i.assets&&this.storeSupportabilityMetrics("Config/AssetsUrl/Changed"),i.beacon&&this.storeSupportabilityMetrics("Config/BeaconUrl/Changed")}eachSessionChecks(){a.il&&(0,C.bP)("pageshow",(t=>{t.persisted&&this.storeSupportabilityMetrics("Generic/BFCache/PageRestored")}))}unload(){try{var t;if(this.resourcesSent)return;this.resourcesSent=!0;const r=(0,n.OP)(this.agentIdentifier),o=["beacon","fetch","xmlhttprequest"],i=["nr-data.net","newrelic.com","nr-local.net","localhost"];function s(t){return o.includes(t.initiatorType)}if(((null===(t=performance)||void 0===t?void 0:t.getEntriesByType("resource"))||[]).forEach((t=>{var e;e=t,i.some((t=>e.name.indexOf(t)>=0))?s(t)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/Internal"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/Internal"):s(t)?this.storeSupportabilityMetrics("Generic/Resources/Ajax/External"):this.storeSupportabilityMetrics("Generic/Resources/Non-Ajax/External")})),r.ptid&&this.storeSupportabilityMetrics("PageSession/Feature/SessionTrace/DurationMs",Math.round(performance.now())),"undefined"!==typeof performance){const c=performance.getEntriesByType("mark"),a=performance.getEntriesByType("measure");this.storeSupportabilityMetrics("Generic/Performance/Mark/Seen",c.length),this.storeSupportabilityMetrics("Generic/Performance/Measure/Seen",a.length)}}catch(e){}}}(0,o.Z)(D,"featureName",c.t9)}}]);
//# sourceMappingURL=metrics-aggregate.541d5f0a.chunk.js.map